"use strict";function saveOptions(){var e=document.getElementById("tabLimit").value,t=document.getElementById("duplicates").checked,o=document.getElementById("restoreOnStart").checked,n=document.getElementById("hideContextMenu").checked,r=document.getElementById("queueMode1").checked,d=document.getElementById("slowNetworkMode").checked,c=document.getElementById("slowNetworkLimit").value;if(2>e)return document.getElementById("statusTabLimit").textContent="Incorrect value, minimum of 2.",void window.setTimeout(function(){document.getElementById("statusTabLimit").textContent=""},3e3);var i={};i.tabLimit=e,i.allowDuplicates=t,i.restoreOnStart=o,i.hideContextMenu=n,i.queueByRecent=r,i.slowNetworkMode=d,i.slowNetworkLimit=c,chrome.storage.local.set(i,function(){var e=document.getElementById("status");e.textContent="Options saved",void 0!==chrome.runtime.lastError&&(console.error("An error ocurred saving options: "+chrome.runtime.lastError.string),console.error(chrome.runtime.lastError),e.textContent="An error ocurred saving options"),window.setTimeout(function(){e.textContent=""},1800)})}function restoreOptions(){var e={};e.tabLimit=TAB_LIMIT_DEFAULT,e.allowDuplicates=!1,e.restoreOnStart=!1,e.hideContextMenu=!1,e.queueByRecent=!1,e.slowNetworkMode=!1,e.slowNetworkLimit=TAB_LIMIT_DEFAULT,chrome.storage.local.get(e,function(e){return void 0!==chrome.runtime.lastError?void console.error("An error ocurred restoring options: "+chrome.runtime.lastError):(document.getElementById("tabLimit").value=e.tabLimit,document.getElementById("duplicates").checked=e.allowDuplicates,document.getElementById("restoreOnStart").checked=e.restoreOnStart,document.getElementById("hideContextMenu").checked=e.hideContextMenu,e.queueByRecent?document.getElementById("queueMode1").checked=e.queueByRecent:document.getElementById("queueMode0").checked=!0,document.getElementById("slowNetworkMode").checked=e.slowNetworkMode,void(document.getElementById("slowNetworkLimit").checked=e.slowNetworkLimit))})}var TAB_LIMIT_DEFAULT=10;document.addEventListener("DOMContentLoaded",restoreOptions),document.getElementById("save").addEventListener("click",saveOptions);